http: middlewares: glance-docs-redirect: redirectRegex: "^https?://docs\\.jubnl\\.ch/?(.*)" replacement: "https://apps.jubnl.ch/git-access" permanent: true glance-hosting-redirect: redirectRegex: regex: "^https?://hosting\\.jubnl\\.ch/?(.*)" replacement: "https://apps.jubnl.ch/hosting" permanent: true plex-headers: headers: customRequestHeaders: X-Plex-Client-Identifier: "traefik" X-Plex-Device: "Traefik Reverse Proxy" X-Plex-Device-Name: "Traefik" X-Plex-Platform: "Linux" X-Plex-Platform-Version: "1.0" X-Plex-Product: "Plex" X-Plex-Version: "1.0" auth-basic: basicAuth: users: - "admin:$apr1$VkBfZwwW$D/TI5n1gURSKp8bQ983AM." security-headers: headers: stsSeconds: 31536000 stsIncludeSubdomains: true frameDeny: true referrerPolicy: "no-referrer" browserXssFilter: true infra-default: chain: middlewares: - auth-basic - security-headers public-security-headers: headers: # HSTS stsSeconds: 31536000 # 1 year stsIncludeSubdomains: true # adjust if you DON'T want this stsPreload: true forceSTSHeader: true # Basic hardening frameDeny: true # X-Frame-Options: DENY contentTypeNosniff: true # X-Content-Type-Options: nosniff browserXssFilter: true # X-XSS-Protection (legacy but harmless) # Referrer policy suitable for public sites referrerPolicy: "strict-origin-when-cross-origin" # Permissions-Policy: adjust as needed per app permissionsPolicy: > geolocation=(), camera=(), microphone=(), payment=(), usb=() # If youâ€™re always behind Cloudflare, this helps with real hostname hostsProxyHeaders: - "X-Forwarded-Host" - "CF-Connecting-User" public-compress: compress: {} # Chain to reuse on all public routers public-default: chain: middlewares: - public-security-headers - public-compress public-plex-default: chain: middlewares: - public-security-headers - public-compress - plex-headers